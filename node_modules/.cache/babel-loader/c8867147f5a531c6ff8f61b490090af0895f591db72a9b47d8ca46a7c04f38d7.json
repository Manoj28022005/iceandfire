{"ast":null,"code":"import React from'react';import{useCart,useDispatch}from'../components/ContextReducer';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Cart(_ref){let{darkMode,showCartModal,setShowCartModal}=_ref;const cartItems=useCart();const dispatch=useDispatch();const navigate=useNavigate();const closeModal=()=>{setShowCartModal(false);};const handleDelete=id=>{dispatch({type:\"REMOVE_FROM_CART\",payload:id});};const calculateTotal=()=>{return cartItems.reduce((total,item)=>total+item.price*item.quantity,0).toFixed(2);};const handlePlaceOrder=()=>{if(window.confirm(\"Are you sure you want to place this order?\")){closeModal();navigate('/payment');// Navigate to the payment page\n}};return/*#__PURE__*/_jsx(_Fragment,{children:showCartModal&&/*#__PURE__*/_jsx(\"div\",{className:`modal ${darkMode?'dark-mode':''}`,style:{display:'block'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:\"My Cart\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:closeModal})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[cartItems.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ITEM NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"QUANTITY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE(\\u20B9)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTION\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cartItems.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.title}),/*#__PURE__*/_jsx(\"td\",{children:item.quantity}),/*#__PURE__*/_jsx(\"td\",{children:(item.price*item.quantity).toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:()=>handleDelete(item.id),children:\"Delete\"})})]},item.id))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is empty.\"}),/*#__PURE__*/_jsxs(\"h5\",{className:\"mt-3\",children:[\"Total: \\u20B9\",calculateTotal()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:closeModal,children:\"Close\"}),cartItems.length>0&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handlePlaceOrder,children:\"Place Order\"})]})]})})})});}export default Cart;","map":{"version":3,"names":["React","useCart","useDispatch","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Cart","_ref","darkMode","showCartModal","setShowCartModal","cartItems","dispatch","navigate","closeModal","handleDelete","id","type","payload","calculateTotal","reduce","total","item","price","quantity","toFixed","handlePlaceOrder","window","confirm","children","className","style","display","onClick","length","map","index","title"],"sources":["D:/CODING/WEB_DEVELOPMENT/GOFOOD/mernapp/src/screens/Cart.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useCart, useDispatch } from '../components/ContextReducer';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Cart({ darkMode, showCartModal, setShowCartModal }) {\r\n  const cartItems = useCart();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const closeModal = () => {\r\n    setShowCartModal(false);\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    dispatch({\r\n      type: \"REMOVE_FROM_CART\",\r\n      payload: id\r\n    });\r\n  };\r\n\r\n  const calculateTotal = () => {\r\n    return cartItems.reduce((total, item) => total + item.price * item.quantity, 0).toFixed(2);\r\n  };\r\n\r\n  const handlePlaceOrder = () => {\r\n    if (window.confirm(\"Are you sure you want to place this order?\")) {\r\n      closeModal();\r\n      navigate('/payment'); // Navigate to the payment page\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showCartModal && (\r\n        <div className={`modal ${darkMode ? 'dark-mode' : ''}`} style={{ display: 'block' }}>\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">My Cart</h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={closeModal}></button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                {cartItems.length > 0 ? (\r\n                  <table className=\"table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>S.No.</th>\r\n                        <th>ITEM NAME</th>\r\n                        <th>QUANTITY</th>\r\n                        <th>PRICE(₹)</th>\r\n                        <th>ACTION</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {cartItems.map((item, index) => (\r\n                        <tr key={item.id}>\r\n                          <td>{index + 1}</td>\r\n                          <td>{item.title}</td>\r\n                          <td>{item.quantity}</td>\r\n                          <td>{(item.price * item.quantity).toFixed(2)}</td>\r\n                          <td>\r\n                            <button className=\"btn btn-danger btn-sm\" onClick={() => handleDelete(item.id)}>\r\n                              Delete\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                ) : (\r\n                  <p>Your cart is empty.</p>  \r\n                )}\r\n                <h5 className=\"mt-3\">Total: ₹{calculateTotal()}</h5>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button className=\"btn btn-secondary\" onClick={closeModal}>Close</button>\r\n                {cartItems.length > 0 && (\r\n                  <button className=\"btn btn-primary\" onClick={handlePlaceOrder}>Place Order</button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}