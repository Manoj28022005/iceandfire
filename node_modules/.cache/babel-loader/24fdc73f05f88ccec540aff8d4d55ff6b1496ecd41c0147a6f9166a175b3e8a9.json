{"ast":null,"code":"import React,{createContext,useContext,useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const CartStateContext=/*#__PURE__*/createContext();const CartDispatchContext=/*#__PURE__*/createContext();const reducer=(state,action)=>{switch(action.type){case\"ADD_TO_CART\":const existingItemIndex=state.findIndex(item=>item.id===action.payload.id);if(existingItemIndex!==-1){// If item already exists, increment quantity\nreturn state.map((item,index)=>index===existingItemIndex?{...item,quantity:item.quantity+action.payload.quantity}:item);}// Add new item to cart\nreturn[...state,{...action.payload}];case\"REMOVE_FROM_CART\":// Remove item from the cart\nreturn state.filter(item=>item.id!==action.payload);default:return state;}};export const CartProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(reducer,[]);return/*#__PURE__*/_jsx(CartDispatchContext.Provider,{value:dispatch,children:/*#__PURE__*/_jsx(CartStateContext.Provider,{value:state,children:children})});};export const useCart=()=>useContext(CartStateContext);export const useDispatch=()=>useContext(CartDispatchContext);","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","CartStateContext","CartDispatchContext","reducer","state","action","type","existingItemIndex","findIndex","item","id","payload","map","index","quantity","filter","CartProvider","_ref","children","dispatch","Provider","value","useCart","useDispatch"],"sources":["D:/CODING/WEB_DEVELOPMENT/GOFOOD/mernapp/src/components/ContextReducer.jsx"],"sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nconst CartStateContext = createContext();\r\nconst CartDispatchContext = createContext();\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\":\r\n      const existingItemIndex = state.findIndex(item => item.id === action.payload.id);\r\n      \r\n      if (existingItemIndex !== -1) {\r\n        // If item already exists, increment quantity\r\n        return state.map((item, index) =>\r\n          index === existingItemIndex\r\n            ? { ...item, quantity: item.quantity + action.payload.quantity }\r\n            : item\r\n        );\r\n      }\r\n      \r\n      // Add new item to cart\r\n      return [...state, { ...action.payload }];\r\n      \r\n    case \"REMOVE_FROM_CART\":\r\n      // Remove item from the cart\r\n      return state.filter(item => item.id !== action.payload);\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, []);\r\n  return (\r\n    <CartDispatchContext.Provider value={dispatch}>\r\n      <CartStateContext.Provider value={state}>\r\n        {children}\r\n      </CartStateContext.Provider>\r\n    </CartDispatchContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCart = () => useContext(CartStateContext);\r\nexport const useDispatch = () => useContext(CartDispatchContext);\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,UAAU,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErE,KAAM,CAAAC,gBAAgB,cAAGL,aAAa,CAAC,CAAC,CACxC,KAAM,CAAAM,mBAAmB,cAAGN,aAAa,CAAC,CAAC,CAE3C,KAAM,CAAAO,OAAO,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACjC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,aAAa,CAChB,KAAM,CAAAC,iBAAiB,CAAGH,KAAK,CAACI,SAAS,CAACC,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKL,MAAM,CAACM,OAAO,CAACD,EAAE,CAAC,CAEhF,GAAIH,iBAAiB,GAAK,CAAC,CAAC,CAAE,CAC5B;AACA,MAAO,CAAAH,KAAK,CAACQ,GAAG,CAAC,CAACH,IAAI,CAAEI,KAAK,GAC3BA,KAAK,GAAKN,iBAAiB,CACvB,CAAE,GAAGE,IAAI,CAAEK,QAAQ,CAAEL,IAAI,CAACK,QAAQ,CAAGT,MAAM,CAACM,OAAO,CAACG,QAAS,CAAC,CAC9DL,IACN,CAAC,CACH,CAEA;AACA,MAAO,CAAC,GAAGL,KAAK,CAAE,CAAE,GAAGC,MAAM,CAACM,OAAQ,CAAC,CAAC,CAE1C,IAAK,kBAAkB,CACrB;AACA,MAAO,CAAAP,KAAK,CAACW,MAAM,CAACN,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKL,MAAM,CAACM,OAAO,CAAC,CAEzD,QACE,MAAO,CAAAP,KAAK,CAChB,CACF,CAAC,CAED,MAAO,MAAM,CAAAY,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACb,KAAK,CAAEe,QAAQ,CAAC,CAAGrB,UAAU,CAACK,OAAO,CAAE,EAAE,CAAC,CACjD,mBACEH,IAAA,CAACE,mBAAmB,CAACkB,QAAQ,EAACC,KAAK,CAAEF,QAAS,CAAAD,QAAA,cAC5ClB,IAAA,CAACC,gBAAgB,CAACmB,QAAQ,EAACC,KAAK,CAAEjB,KAAM,CAAAc,QAAA,CACrCA,QAAQ,CACgB,CAAC,CACA,CAAC,CAEnC,CAAC,CAED,MAAO,MAAM,CAAAI,OAAO,CAAGA,CAAA,GAAMzB,UAAU,CAACI,gBAAgB,CAAC,CACzD,MAAO,MAAM,CAAAsB,WAAW,CAAGA,CAAA,GAAM1B,UAAU,CAACK,mBAAmB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}